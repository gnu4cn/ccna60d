# 整合 IPv4 与 IPv6 的网络环境

正如咱们这一教学模组前面的那些小节中所学到的，从 IPv4 迁移到 IPv6 可获得学多优势。简而言之，这些优势包括：

- 简化的 IPv6 数据包头部
- 更大的地址空间
- IPv6 的层次化分址
- IPv6 可扩展性
- IPv6 的广播消除
- 无状态的自动配置
- 集成的移动性
- 集成的增强安全性

**注意**：由于上述优点已在前面的小节中详细阐述，因此他们将不在这里再次介绍。

在有关 IPv6 的前面那些小节中，我们专门关注了纯 IPv6 的环境，并学习了 IPv6 的运行机制，以及在 Cisco 10S 软件中，支持 IPv6 路由的不同路由协议如何得以配置与验证。虽然有着对 IPv6 本身的扎实掌握至关重要，但现实情况是 IPv4 仍是最广泛使用的互联网协议版本。出于这一原因，因此，在考虑迁移到纯 IPv6 的环境时，理解如何整合两种协议栈便至关重要。

虽然迁移到 IPv6 环境会提供前面提到的那些优势，但当前情况的现实是，并非所有可寻址设备都支持IPv6，而因此为了使用同一网络基础设施，IPv4 与 IPv6 必定会共存于那些运行不同协议栈设备的网络内。IPv4 与 IPv6 的整合与共存策略，分为以下三类：

- 双栈的部署
- 隧道技术
- 协议转换

双栈部署在互连网络设备和主机同时用到两种协议栈（即 IPv4 和 IPv6 ）时是必需的。双栈部署允许主机使用 IPv4 或 IPv6，建立与其他主机的端到端 IP 会话。

**注意**：双栈部署并不意味着仅支持 IPv4 及仅支持 IPv6 的主机具备相互通信的能力。要具备这种能力，就需要一些其他协议和机制。所谓双栈，仅表示主机（及基础设施），能够同时支持 IPv4 协议栈与 IPv6 协议栈。

在一些其中双栈部署无法使用的情况下，那么在 IPv4 网络上通过隧道技术传输 IPv6 数据包便是可行的。在这些部署下，就会使用一些隧道技术，将 IPv6 数据包封装于 IPv4 数据包中，从而允许 IPv6 数据，通过一些没有，或尚未原生支持 IPv6 的网络部分得以发送。这种策略允许一些 IPv6 的 “孤岛”，得以在底层的 IPv4 基础设施上通信。

**注意**：在隧道技术下，为了在 IPv4 的基础设施上隧道传输 IPv6 数据包，相关网络节点或互连网络设备，必须支持双协议栈。

最后，在某些情况下，仅支持 IPv4 的环境，将有可能需要与仅支持 IPv6 的环境通信，反之亦然。在这些情况下，双栈部署与隧道技术都无法使用，因此 IPv4 与 IPv6 之间的协议转换，就必需启用。虽然这种策略受支持，但这是整合 IPv4 与 IPv6 网络中最不理想的方式。但是，由于他是受支持的，那么重要的便是要掌握如何实现这一策略。

这一教学模组的其余内容，将详细阐述整合 IPv4 与 IPv6 网络中的双栈部署与隧道技术两种策略。包括了针对 Cisco 10S 软件的一些配置示例。



