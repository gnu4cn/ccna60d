# 网络设备

作为一名网络工程师，咱们将用到一系列网络线缆及别的传输媒介。咱们需要知道，哪些线缆将与 WAN、LAN 及管理端口哪些设备和接口一起工作，以及各个设备怎样适用于整体网络设施。

## 常见网络设备

### 网络交换机


就在几年前，由于成本原因，网络规模都还相当小。这意味着咱们还只需将所有设备，插在一个或多个集线器上。集线器的工作，是在需要时增强网线上的信号，然后将网线上的数据，传送到插上的所有别的设备。当然，这样做的问题是，只打算发送给一台网络主机的消息，却被发送给了网络上连接到其他集线器的所有主机。(集线器和交换技术将在下一课程模组中详细介绍）。

网络交换机则是更智能版本的集线器。交换机使用了内容可寻址存储器，Content Addressable Memory, CAM, 而因此具备记住哪台设备被插入哪个端口的能力。

思科生产了设计工作于从小型办公室，到由数千台设备组成的大型企业网络的所有交换机型号。稍后我们将详细探讨这点，但基本上，交换机会以设备的 MAC 地址（称为二层地址）和 IP 地址（称为三层地址）运行，或他们能执行一些更复杂任务，比如处理放行/拒绝流量或协议及端口编号（称为四层流量），或所有这些层及更多层的某种结合的一些列表。我们将在这个模组稍后部分，介绍这些层的组成及其功能。

早期版本的交换机，被称为网桥。为建立一个表（端口转发表）并做出转发决定，网桥会检查数据帧的源端口（交换机端口）及 MAC 地址。这些表通常经由软件访问，而交换机（不同于网桥）则使用了硬件（即专用集成芯片，Application Specific Integreated Chips, 或 ASIC），访问某个 CAM 表（稍后详述）。因此，交换机可被看作是某种多端口的网桥。

实用交换机，允许咱们将咱们的网络，划分为一些更小、更易于管理的部分（称为网段）。进而允许在咱们公司内部工作的那些团队，比如人力资源、财务、法务等，可以同时在网络的同一区域上工作，这非常有用，因为他们的设备将把他们的大部分时间，花在相互通信上。

!["Cisco 2960 交换机"](../images/60days-1.png)

**图 1.1** -- **思科 2960 交换机**

每个设备都将连接到交换机上的某个接口，其被称为端口。常见的网络端口速度为 100Mbps 及 1000Mbps（通常称为 1Gbps）。通常有一些咱们可用于将一台交换机，连接到另一交换机的光纤端口。每个交换机都有一些咱们可连接以执行初始化配置，并获得网络维护一般访问权限的管理端口。

下图 1.2 显示了 Cisco 2960 交换机上端口的特写。2960 交换机的数种型号，可满足中小型企业的需求。有关端口功能和型号差异的详细信息，请查阅 Cisco 的发行说明。



!["交换机接口类型"](../images/60days-2.png)

**图 1.2** -- **交换机接口类型**

咱们还可在交换机下使用 IP 电话，更妙的是，交换机端口可为这些电话供电（使用以太网供电，Power over Ethernet，PoE 的接口）。基础网络交换机将用于：

- 连接诸如打印机与 PC 等网络设备
- 提供到网络服务器与路由器的访问
- 使用 VLAN 划分网络


所谓 VLAN，属于一些虚拟的局域网。我们将在第 5 天详细讨论这些内容。

### 路由器


作为一名思科工程师，咱们将花大量时间安装、配置路由器及排除故障。因此，CCNA 考试大纲一半以上的内容，都用来学习路由器的配置。

路由器（见图 1.3）是种用于组网的设备。当网络交换机涉及到同一网络上相互通信的设备时，路由器则会与不同网络上的设备通信。较早的路由器型号只有一些以物理方式内置于路由器中，并焊接到主板上的端口。这种情况仍时有存在，但如今的现代网络，需要执行 IP 电话、网络交换与安全，以及连接到多种类型电信公司等等功能的路由器。出于这一原因，路由器也是模组化的，这意味着咱们有路由器机架，和一些咱们可连接各种路由或交换模组的空插槽。


!["右边有个空插槽的模组化思科路由器"](../images/60days-3.png)

**图 1.3** -- **右边有个空插槽的模组化路由器**


思科网站上有很多可用以解释哪种路由器型号，适合咱们业务需求的建议和信息。还有一些将帮助咱们选择正确型号和操作系统的工具。花时间学习如何浏览这些支持和配置页面，并将他们添加到书签中以供快速参考是值得的。


### 网络如何以图表方式表示

全体网络工程师，需要某种通用的沟通方法，无论他们使用的是哪家供应商和电信提供商。当我（作者）处于设计或安全建议目的，必须向你描述我的网络拓扑结构时，若是以某种商定的格式，而不是凭记忆手绘的某种东西，那么效果就会好得多。对于 CCNA 考试，咱们将需要对这些拓扑结构基本了解，因为考试会呈现一些网络问题，并询问咱们认为问题出在哪里。

以下作为一名网络工程师，咱们将在咱们的工作中遇到的一些网络设备常见符号。当咱们在咱们的浏览器搜索引擎中输入 "Cisco icons"，咱们就可下载到思科网站上的这些图标。我们使用纯蓝色或彩色（Kindle 版本）。我（作者）已在全书中，混合使用了那些最常见的路由器和交换机符号，以便咱们习惯在现实世界的网络图中，咱们将看到的那些类型。


!["路由器，routers"](../images/60days-13.png)

!["路由器，routers"](../images/60days-4.png)

**路由器，Routers**

!["交换机，switch"](../images/60days-5.png)

**交换机（二层），Switch(Layer 2)**

!["有防火墙的路由器"](../images/60days-6.png)

**带有防火墙的路由器，Router with Firewall**

!["无线路由器"](../images/60days-7.png)

**无线路由器，Wireless Router**

!["多层交换机"](../images/60days-8.png)

**多层交换机，Multilayer Switch**

!["云--电讯端设备"](../images/60days-9.png)

**云 -- 电信提供商拥有的设备，The Cloud -- Equipment Owned by the Telecoms Provider**

!["终端设备 -- 一台 PC/串行线/以太网连接"](../images/60days-10.png)

**终端设备，End Device -- PC**


![串行线](../images/serial_line.png)


**串行线，Serial Line**

![以太网连接](../images/ethernet_link.png)

**以太网连接，Ethernet Link**


!["IP 电话"](../images/60days-11.png)

**IP 电话，IP Telephone**

!["防火墙"](../images/60days-12.png)

**防火墙，Firewall**

## LAN 与 WAN 的拓扑

拓扑结构是指为通信目的，网络设备的排列方式。这种方式可能受设备所使用的通信协议、成本、地理位置或其他因素限制，例如在主链路故障的情形下，对冗余的需求。

咱们还应注意，物理拓扑和逻辑拓扑之间，通常存有差别。所谓物理拓扑，是指网络在咱们观察时网络的表现形式，而逻辑拓扑是指网络在您观察时的外观。而逻辑拓扑则是网络看待自己的方式。一些最常见拓扑结构会在接下来的小节中介绍。


### 点对点

**Point-to-Point**


这种拓扑结构主要用于广域网 WAN 链路。点对点链路就是其中一台设备有着到另一设备的一个连接。咱们出于冗余考虑，添加一条连接两个设备的辅助连接，但当设备本身故障时，那么咱们就会丢失全部连通性。


!["点对点拓扑"](../images/60days-14.png)

**图 1.4** -- **点对点拓扑结构，Point-to-Point Topology**


### 总线

**Bus**

这种拓扑结构是在最初的以太网络下创建的，其中所有设备都必须连接到被称为主干电缆的一根粗电缆。当这根主干电缆故障时，那么网络就会瘫痪。当连接设备到主干电缆的电缆故障时，则只有该设备将失去连接。

> *知识点*：
>
> - the backbone cable
>
> - a thick cable


!["总线拓扑"](../images/60days-15.png)

**图 1.5** -- **总线拓扑结构，Bus Topology**


### 星形

**Star**

这可能是咱们将遇到的最常见拓扑结构。每个网络设备都被连接到某个中心集线器或交换机。当到设备的其中一条电缆故障时，那么只有该设备会断开连接。

!["星形拓扑"](../images/60days-16.png)

**图 1.6** -- **星形拓扑结构，Star Topology**


### 环形

**Ring**


环状拓扑结构由令牌环网络及光纤分布式数据接口网络使用，而这两种网络在数年前便已退役。

> *知识点*：
>
> - token ring networks
>
> - Fiber Distributed Data Interface, FDDI


!["令牌环拓扑"](../images/60days-17.png)

**图 1.7** -- **令牌环拓扑结构，Token Ring Topology**

一种 FDDI 网络下用到的环形拓扑结构，采用了一种双环的连接，以提供一个环失效情形下的冗余。

!["双环拓扑"](../images/60days-18.png)

**图 1.8** -- **双环拓扑结构，Dual-Ring Topology**

### 网状

**Mesh**

当不容许停机时，网状拓扑结构就值得考虑。全网状的网络给每台设备都提供了与其他设备的连接。这种方案通常用于广域网 WAN 的连接。

> *知识点*：
>
> - Full-mesh networks


!["完全的网状拓扑"](../images/60days-19.png)

**图 1.9** -- **全网状拓扑结构，Full-Mesh Topology**


通常情况下，这种类型的方案最终会成本非常高。出于这一原因，部分网状的拓扑结构便可供考虑。这意味着要到达每个设备，其间可能有一或多个 “跃点” 或路由器。一些拓扑结构的混合，则可称作混合设计。

> *知识点*：
>
> - partial-mesh topologies
>
> - hops
>
> - a mixture of topologies
>
> - a hybrid design


!["部分网状拓扑"](../images/60days-20.png)

**图 1.10** -- **部分网状拓扑结构，Partial-Mesh Topology**


### 轴辐式拓扑

**Hub-and-Spoke**

由于设备、广域网连接与带宽的成本问题，一些公司通常会采用轴辐的设计。一台功能强大的路由器位于中心（枢纽），通常在公司总部，而辐条表示一些只需功能较弱路由器的远端办公室。这种拓扑结构下显然存在一些问题；但其仍被广泛使用。


!["轴辐式拓扑"](../images/60days-21.png)

**图 1.11** -- **轴辐式拓扑结构，Hub-and-Spoke Topology**


### 物理与逻辑

**Phycial versus Logical**


当咱们能看到网络设备时，咱们看到的便是物理拓扑结构。这可能造成误导，因为尽管网络表现为以星形方式布线，其可能实际在逻辑上是以环形方式工作。这方面一个典型的示例，便是环形网络。虽然流量以环形方式在环上循环，但所有设备都插入某个集线器。如下图 1.12 所示，这个环实际上是在令牌环集线器内部，因此咱们从外部并不能看到他：

!["环是在集线器内部"](../images/60days-22.png)

**图 1.12** -- **环在集线器内，The Ring Is Inside the Hub**


咱们可能会被要求从物理和逻辑两方面，识别网络的不同类型。请记住，物理拓扑是咱们能看到的，而逻辑拓扑是网络所能看到的（即数据如何流动）。这在下表 1.1 中得以总结。

**表 1.1** -- **物理拓扑与逻辑拓扑*

| 拓扑结构 | 物理 | 逻辑 |
| :-: | :-: | :-: |
| 总线型 | 总线型 | 总线型 |
| 星形 | 星形 | 星形 |
| 令牌环 | 星形 | 环形 |
| 点对点 | 总线型 | 总线型 |
| FDDI | 环形 | 环形 |


> **参考资料**：
>
> - [有效節省成本的軸輻網路模型](https://medium.com/marketingdatascience/%E6%9C%89%E6%95%88%E7%AF%80%E7%9C%81%E6%88%90%E6%9C%AC%E7%9A%84%E8%BB%B8%E8%BC%BB%E7%B6%B2%E8%B7%AF%E6%A8%A1%E5%9E%8B-b5301bd385ed)
