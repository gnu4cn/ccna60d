# 配置静态路由

静态路由属于指示咱们的路由器，转发以特定主机或网络，甚至未在咱们路由表未列出的任何地方为目的流量的一种快速简便方法。咱们可将静态路由，用作一种独立解决方案、与动态路由结合，或者作为一种在咱们的主路由下线情形下的故障保护。

配置一条静态路由的命令（见下图 18.1），会包含以下内容：

- 网络地址/前缀掩码
- 地址或出口接口
- 距离（可选）

以下是这些命令的使用示例：


`RouterA(config)#ip route network prefix mask {address | interface} [distance]`

![静态路由示例网络](../images/1101.png)

**图 18.1** -- **静态路由的示例网络**

要为上面的网络添加一条静态路由，咱们需要在左侧路由器上，写下以下配置行：


```console
Router(config)#ip route 192.168.1.0 255.255.255.0 172.16.1.2
```

在静态路由下，咱们可指定在到达目的地址途中，路由器需要到达的下一跳 IP 地址，或者咱们可指定一个出口接口。通常，咱们不会知道咱们的下一跳 IP 地址，因为其为咱们的 ISP，或者咱们的 IP 地址会随着时间推移而改变（见下图 18.2）。若属于这种情况，那么就要使用某个出口接口。


![不总是知道下一跳地址的情形](../images/1102.png)

**图 18.2** -- **咱们并不总是知道咱们的下一跳地址**


```console
Router(config)#ip route 192.168.1.0 255.255.255.0 s0/0
```

上面的命令告诉路由器，将目的地为 `192.168.1.0/24` 网络的流量，从串行接口发出。而下面的命令则告诉路由器，从串行接口发出所有网络的流量。


```console
Router(config)#ip route 0.0.0.0 0.0.0.0 s0/0
```

上面的路由，实际上是条默认路由。默认路由用于引导那些地址为未在路由表中显式列出网络的数据包。我们会在下文中，详细介绍默认路由以及咱们的一些其他选项。


