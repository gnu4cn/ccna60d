# 路由问题规避机制

众所周知，距离矢量路由协议因其简单的 “根据谣言路由” 方法，而容易出现重大问题。距离矢量与链路状态协议，都使用了不同技术防止路由问题。一些最重要机制包括一些这些（一些我们已简要提及）：

- **失效计时器**：这些计时器用于在一些路由的更新长时间未收到时，将其标记为不可达；
- **跳数限制**：当一些路由的跳数，高于某个预定义跳数时，那么这一参数会他们标记为不可达；RIP 的跳数限制为 15，因为其通常不会在大型网络中用到。不可达路由，不会作为最佳路由安装到路由表中。跳数限制阻止了更新在网络中循环，就像 IP 头部中的 TTL 字段一样；
- **触发的更新**：这一特性更新计时器在在一些重要更新的情形下被绕过。例如，当某个重要更新必须要传播到整个网络时，那么 RIP 的 30 秒计时器就可被忽略；
- **保持计时器**：当某条特定路由的度量值不断变差，那么在一段延迟时间内，该路由的更新就不会被接受；
- **异步更新**：所谓异步更新，表示另一种避免（区域中的）路由器在同一时间泛洪整个路由信息（库）的安全机制。正如早先所提到的，OSPF 会每 30 分钟执行一次异步更新。这种异步更新机制，会为每个设备产生一个小的延迟，这样他们就不会在同一时间泛洪信息。这样做提升了带宽利用率及处理能力；
- **路由投毒**：这一特性阻止了路由器经由某条已失效路由发送数据包。距离矢量的协议，会运用这一特性，表面某条路由已不再可达。这是通过将该路由的度量值，设置为最大值完成的；
- **水平分割**：水平分割阻止了更新从他们被接收的同一接口再发送出去，因为位于该区域的路由器，应该已经知道该特定更新；
- **反向投毒**：这一机制是针对投毒路由的一种水平分割规则的例外。


> *知识点*：
>
> + routing problems avoidance mechanisms
>   - Distance Vector routing protocols are prone to major problems as a result of their simplistic "routing by rumor"
>   - Invalidation timers
>   - Hop count litmit
>   - Triggered updates
>   - Hold-down timers
>   - Asynchronous updates
>   - Route poisoning
>   - Split horizon
>   - Poison reverse
