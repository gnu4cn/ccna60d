# 端口配置故障排除

每个网络设备都会有不同的配置方式。大多数错误配置类型，都会产生网络中的问题，包括：

- 吞吐量低；
- 连通性缺失。

某台设备可被连接到网络，有信号，并能与互联网及其他设备通信，但性能却可能以持续且易于复现方式，处于低水平。这会在包括文件传输，或别的与网络其他设备通信类型等一般操作过程中表现出来。

在一些重大配置故障下，这个问题可能表现为连通性的完全缺失，包括一些特定设备的端口上链路指示灯不亮。有时，链路指示灯会亮起，但咱们仍会缺失任何类型的连通性。这表明信号正通过线缆传输，而这意味着咱们并未有着线缆问题，而是某个端口或别的端口上的某种端口配置问题。这就需要对设备配置的一次故障调查。

在配置蘑菇额端口时，有数种不同设置，包括：

- 速率
- 双工模式
- 封装方式/VLAN


大多数这些参数，都必须在链路两端同步，要么手动配置他们，要么启用端口的自动配置。当检测到（自动配置）时，那么这种方法就会在链路上向两台设备发送协商数据包，检测另一端设备的能力，并共同就双方均支持的最佳参数达成一致，以确保一种最佳传输方式。问题在于，有时自动配置并不会选取针对咱们所需的那些最佳参数，因此咱们还应检查这种方式，并根据具体情况手动配置端口。

当咱们对每个端口进行手动配置时，咱们必需首先考虑的参数之一，便是接口速率。链路两侧的速率必须一致。当咱们在一侧错误配置了速率时，那么该链路可能就无法运行。另一相关设置，是可被配置为半双工或全双工的端口双工模式。咱们可配置一侧为半双工，另一侧为全双工的某条链路，而即使该链路会起来，但吞吐量将受到很大影响，因为两侧均希望以不同方式处理通信。这将导致会影响该特定链路上传输的冲突。要确保两侧都使用同一双工设置，以便流量得以尽可能高校的发送。




当咱们在某种企业级环境下操作时，咱们可能需要使用不同 VLAN 划分流量。每台交换机在这方面都必需被恰当配置，从而每个交换机端口都被分配到正确的 VLAN。当咱们直连到配置为使用不同 VLAN ID 的那些端口时，即使物理层显示没有问题，通信也会在二层中断。

通过检查上面介绍的全部端口配置选项，并确保咱们在链路两端的一切都同步，咱们就能保证所配置设备的连通性与吞吐量将是最优的。


> *知识点*：
>
> - throughput
>
> - connectivity
>
> - a port configuration issue
>
> - the interface speed
>
> - port duplex
>
> - an enterprise-level environment
>
> - to segment the traffic
>
> - everything synchronized at both ends of a link

